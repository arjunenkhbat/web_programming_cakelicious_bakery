<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>cake</title>
    <link rel="stylesheet" href="/css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@300;500;700&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
   <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@300;500;700&family=Roboto:wght@100;300;900&display=swap">
  </head>
    <body>
      <header class="cake-header">
        <div class="cake-container">
    
          <div class="header-item-1">
    
            <div class="logo1">
              <a href="#" class="icon facebook">
                <span><i class="fab fa-facebook-f"></i></span>
              </a>
              <a href="#" class="icon instagram">
                <span><i class="fab fa-instagram"></i></span>
              </a>
    
              <a href="#" class="icon youtube">
                <span><i class="fab fa-youtube"></i></span>
              </a>
            </div>
          </div>
    
          <div class="header-item-2">
            <a href="main.html">
              <img src="/images/removedBg-logo.png" alt="">
            </a>
          </div>
    
    
          <div class="header-item-3">
            <div class="icon_cart_globe">
            <a href="cart.html" class="icon cart" id="cart-icon">
              <span id="cartCount">0</span><i class="fa fa-shopping-cart"></i>
            </a>
            <a href="#" class="icon globe">
              <span><i class="fas fa-globe"></i></span>
            </a>
          </div>
        </div>
        </div>
      </header>
        <nav>
          <ul>
            <li><a href="aboutUs.html">Танилцуулга</a></li>
            <li><a href="cake.html">Бүтээгдэхүүн</a></li>
            <li><a href="train.html">Сургалт</a></li>
            <li><a href="special.html">Онцгой</a></li>
          </ul>
        </nav>

          <!------------------------cake sidebar------------ ----->
  <div class="container">
    <div class="cake-heseg">
      <h2>Бялуу захиалга</h2>
    </div>


    <!------------------------cake card heseg------------------------------------------------------>
    <div class="cake-heseg-container1">
      <section class="cake-sidebar">
        <ul>
          <li>Бялуу</li>
          <hr class="cakey-sidebar">
          <a href="?category=MilkyCream" id="milkycream-link" data-category="MilkyCream">Сүүн кремтэй бялуу</a>
            <a href="?category=Mousse" id="mousse-link" data-category="Mousse">Мусс бялуу</a>
            <a href="?category=Maslo" id="maslo-link" data-category="Maslo">Маслон кремтэй бялуу</a>
            <a href="?category=NewYear" id="newyear-link" data-category="NewYear">Шинэ жилийн бялуу</a>
        </ul>
      </section>
      <!------------------------cake card1 heseg------------ ----->
      <div class="cake-card1">
        <h4 class="cake-card1-title">Fresh delicious cake</h4>
        <div class="card1-item-star-kk">
          <i class="fa-solid fa-star"></i>
          <i class="fa-solid fa-star"></i>
          <i class="fa-solid fa-star"></i>
          <i class="fa-solid fa-star"></i>
          <i class="fa-solid fa-star"></i>
        </div>
        <p class="cake-card1-calorie">калори: 500</p>
        <img src="/images/cake1.png" alt="бялуу">
        <button class="cake1-btn-eat">идье +</button>
      </div>
      <!------------------------cake card2 heseg------------ ----->
      <div class="cake-card2">
        <h4 class="cake-card2-title">Fresh delicious cake</h4>
        <div class="card2-item-star-kk">
          <i class="fa-solid fa-star"></i>
          <i class="fa-solid fa-star"></i>
          <i class="fa-solid fa-star"></i>
          <i class="fa-solid fa-star"></i>
          <i class="fa-solid fa-star"></i>
        </div>
        <p class="cake-card2-calorie">калори: 500</p>
        <br>
        <img src="/images/cake4.png" alt="бялуу">
        <button class="cake2-btn-eat">идье +</button>
      </div>

      <div class="cake-card2">
        <h4 class="cake-card2-title">Fresh delicious cake</h4>
        <div class="card2-item-star-kk">
          <i class="fa-solid fa-star"></i>
          <i class="fa-solid fa-star"></i>
          <i class="fa-solid fa-star"></i>
          <i class="fa-solid fa-star"></i>
          <i class="fa-solid fa-star"></i>
        </div>
        <p class="cake-card2-calorie">калори: 500</p>
        <br>
        <img src="/images/cake7.png" alt="бялуу">
        <button class="cake2-btn-eat">идье +</button>
      </div>
      <div class="cake-card2">
        <h4 class="cake-card2-title">Fresh delicious cake</h4>
        <div class="card2-item-star-kk">
          <i class="fa-solid fa-star"></i>
          <i class="fa-solid fa-star"></i>
          <i class="fa-solid fa-star"></i>
          <i class="fa-solid fa-star"></i>
          <i class="fa-solid fa-star"></i>
        </div>
        <p class="cake-card2-calorie">калори: 500</p>
        <br>
        <img src="/images/cake2.png" alt="бялуу">
        <button class="cake2-btn-eat">идье +</button>
      </div>
      <div class="cake-card2">
        <h4 class="cake-card2-title">Fresh delicious cake</h4>
        <div class="card2-item-star-kk">
          <i class="fa-solid fa-star"></i>
          <i class="fa-solid fa-star"></i>
          <i class="fa-solid fa-star"></i>
          <i class="fa-solid fa-star"></i>
          <i class="fa-solid fa-star"></i>
        </div>
        <p class="cake-card2-calorie">калори: 500</p>
        <br>
        <img src="/images/cake3.png" alt="бялуу">
        <button class="cake2-btn-eat">идье +</button>
      </div>
    </div>
    <h4></h4>
       <!------------------------ cake list -->
        <main id="app"></main>
        <footer class="footer">
          <div class="footer-item-1">
            <img src="/images/removedBg-logo.png" alt="">
          </div>
          <div class="footer-item-2">
            <ul class="footer-menu">
              <li><a href="Бидний тухай.html">Бидний тухай</a></li>
              <li> <a href="Нийгмийн хариуцлага.html">Нийгмийн хариуцлага</a></li>
              <li><a href="Үйлчилгээний нөхцөл.html">Үйлчилгээний нөхцөл</a></li>
              <li><a href="Нууцлалын бодлого.hmtl">Нууцлалын бодлого</a></li>
            </ul>
          </div>
          <div class="footer-item-3">
            <ul class="footer-contact">
              <li><a href="">холбоо барих</a></li>
              <li><a href="">99110247</a></li>
            </ul>
      
      
            <div class="footer-wrapper">
              <a href="#" class="icon facebook">
                <span><i class="fab fa-facebook-f"></i></span>
              </a>
      
              <a href="#" class="icon instagram">
                <span><i class="fab fa-instagram"></i></span>
              </a>
              <a href="#" class="icon youtube">
                <span><i class="fab fa-youtube"></i></span>
              </a>
            </div>
      
      
        </footer>
         <script>
            class Product {
                constructor(product) {
                    //prodcuct buyu kinogoo todrhoiloh
                    this.id = product.id;
                    this.category = product.category;
                    this.name = product.name;
                    this.img = product.img;
                    this.imdb = product.imdb;
                    this.rtr = product.rtr;
                }
                //kinonuudaa renderleh
                Render() {
                    return `
                    <article>
                        <a href="movie.html?id=${this.id}" class="movie_poster">
                            <img src="${this.img}" alt="${this.name} poster">${this.name}
                        </a>
                        <div class="rating">
                            <a href="https://www.imdb.com/title/${this.id}/">
                                <img src="Images/imdb_icon.png" alt="imdb rating">${this.imdb}
                            </a>
                            <a href="https://www.rottentomatoes.com/m/${this.name.toLowerCase().replace(/\s/g, '_')}">
                                <img src="Images/rotten_tomatos_icon.png" alt="rotten tomato rating">${this.rtr}
                            </a>
                        </div>
                    </article>`;
                }
            }
            class movie{
                constructor(){}
                //app elementiig listeer duurgeh
                List(){
                    const mov = [
                    {
            id: 1,
            category: "MilkyCream",
            name: "FRESH DELICIOUS CAKE",
            calories: 500,
            img: "../images/cake4.png",
  
            rt: 5.0,
          },
          {
            id: 2,
            category: "Maslo",
            name: "FRESH DELICIOUS CAKE",
            calories: 500,
            img: "../images/cake7.png",
            rt: 5.0,
          },
          {
            id:3,
            category: "Mousse",
            name: "FRESH DELICIOUS CAKE",
            calories: 500,
            img: "../images/cake8.png",
            rt: 5.0,
          },
          {
            id:4,
            category: "MilkyCream",
            name: "FRESH DELICIOUS CAKE",
            calories: 500,
            img: "../images/cake4.png",
            rt: 5.0,
          },
          {
            id:5,
            category: "NewYear",
            name: "FRESH DELICIOUS CAKE",
            calories: 500,
            img: "../images/cake-cake1.png",
            rt: 5.0,
          },
          {
            id:6,
            category: "Mousse",
            name: "FRESH DELICIOUS CAKE",
            calories: 500,
            img: "../images/cake-cake1.png",
            rt: 5.0,
          },
          {
            id:7,
            category: "NewYear",
            name: "FRESH DELICIOUS CAKE",
            calories: 500,
            img: "../images/cake-cake1.png",
            rt: 5.0,
          },
          {
            id:8,
            category: "MilkyCream",
            name: "FRESH DELICIOUS CAKE",
            calories: 500,
            img: "../images/cake-cake1.png",
            rt: 5.0,
          },
          {
            id:9,
            category: "Maslo",
            name: "FRESH DELICIOUS CAKE",
            calories: 500,
            img: "../photos/cake1.jpg",
            rt: 5.0,
          },
          { id:10,
            category: "Mousse",
            name: "FRESH DELICIOUS CAKE",
            calories: 500,
            img: "../photos/cake1.jpg",
            rt: 5.0,
          },
                    ]; 
                    const p = mov;
                        let data = '<section>';
                    //kino tus bureer loopled porduct uusgej renderleh
                    for( const product of p){
                        const prod=new Product(product);
                        data += prod.Render();
                    }
                    data+="</section>";
                    document.getElementById("app").insertAdjacentHTML("beforeend", data);
                }
            }
            //js2
            class MovieItem {
            constructor(movie) {
                this.id = movie.id;
                this.category = movie.category;
                this.name = movie.name;
                this.calories = movie.calories;
                this.img = movie.img;
                this.rt = movie.rt;
            }
            Render() {
              return `
              <article>
                  <ul>
                      <li><h>${this.name}</h></li>
                      <li>Үнэлгээ:${this.rt}</li>
                      <li>Калори:${this.calories}</li>
                      <hr>
                      <li><img src="${this.img}" alt="cake_image"></li>
                      <li><button id="button" onclick="CartCounter(this.id)"> Идье +</button></li>
                  </ul>
              </article>`
            }
        }
        class MovieList {
            constructor() {
                this.movies=[];
            }
            //kinonuuda fetch hiine
            async FetchData() {
                this.movies = [
                {
                  id: 1,
                  category: "MilkyCream",
                  name: "FRESH DELICIOUS CAKE",
                  calories: 500,
                  img: "../images/cake4.png",
                  rt: 5.0,
                },
                {
                  id: 2,
                  category: "Maslo",
                  name: "FRESH DELICIOUS CAKE",
                  calories: 500,
                  img: "../images/cake7.png",
                  rt: 5.0,
                },
                {
                  id:3,
                  category: "Mousse",
                  name: "FRESH DELICIOUS CAKE",
                  calories: 500,
                  img: "../images/cake8.png",
                  rt: 5.0,
                },
                {
                  id:4,
                  category: "MilkyCream",
                  name: "FRESH DELICIOUS CAKE",
                  calories: 500,
                  img: "../images/cake4.png",
                  rt: 5.0,
                },
                {
                  id:5,
                  category: "NewYear",
                  name: "FRESH DELICIOUS CAKE",
                  calories: 500,
                  img: "../images/cake-cake1.png",
                  rt: 5.0,
                },
                {
                  id:6,
                  category: "Mousse",
                  name: "FRESH DELICIOUS CAKE",
                  calories: 500,
                  img: "../images/cake-cake1.png",
                  rt: 5.0,
                },
                {
                  id:7,
                  category: "NewYear",
                  name: "FRESH DELICIOUS CAKE",
                  calories: 500,
                  img: "../images/cake-cake1.png",
                  rt: 5.0,
                },
                {
                  id:8,
                  category: "MilkyCream",
                  name: "FRESH DELICIOUS CAKE",
                  calories: 500,
                  img: "../images/cake-cake1.png",
                  rt: 5.0,
                },
                {
                  id:9,
                  category: "Maslo",
                  name: "FRESH DELICIOUS CAKE",
                  calories: 500,
                  img: "../photos/cake1.jpg",
                  rt: 5.0,
                },
                { id:10,
                  category: "Mousse",
                  name: "FRESH DELICIOUS CAKE",
                  calories: 500,
                  img: "../photos/cake1.jpg",
                  rt: 5.0,
                },
                ]; 
            }
            //categoryoor n kinogoo filterleh method
            FilterByCategory(category) {
                //herev category ugugdsn bol ter kinonuudig ugui bol buh kinog bucaana
                return category ? this.movies.filter(movie => movie.category === category) : this.movies;
            }
            //todrhoi kinog l renderlene
            RenderMovies(targetElement, movies) {
                //tuhain target elementee barij avna
                const movieSection = document.querySelector(targetElement);
                //baigaa buh content oo arilgana
                movieSection.innerHTML = '';
                movies.forEach(movie => {
                    //kino bureer aylaad article element uusged kinogo renderled target element ee ugnu
                    const article = document.createElement('article');
                    article.innerHTML = new MovieItem(movie).Render();
                    movieSection.appendChild(article);
                });
            }
        }

        document.addEventListener('DOMContentLoaded', async () => {
            //app elemnted kinogoo duurgene
            const app = new movie();
            app.List(); 
            //movielist class uusged fetchlene
            const movieList = new MovieList();
            await movieList.FetchData();
            //categorylink uudee avna
            const categoryLinks = document.querySelectorAll('#category-links a');
            categoryLinks.forEach(link => {
                //category bur deer click event sonsono
                link.addEventListener('click', function (event) {
                    event.preventDefault();
                    //songogdsn categoryg avad tuhain category dh kinonuudig shuuged renderlene
                    const selectedCategory = this.getAttribute('data-category');
                    filterAndRenderMovies(selectedCategory);
                });
            });
            //url aas category oo avj kinonuudaa shuugeed renderlene
            const categoryFromUrl = getCategoryFromUrl();
            filterAndRenderMovies(categoryFromUrl);
            //damjuulagdsn category-oor kinog shuuged render hiih method
            async function filterAndRenderMovies(category) {
                //filter hiigdsn kinonuud
                const filteredMovies = movieList.FilterByCategory(category);
                //filter hiigdsn kinonuudaa renderlene
                movieList.RenderMovies('main section', filteredMovies);
                //songogdsn category oo actove bolgono 
                categoryLinks.forEach(link => {
                    const linkCategory = link.getAttribute('data-category');
                    if (linkCategory === category) {
                        link.classList.add('active');
                    } else {
                        link.classList.remove('active');
                    }
                });
            }
            //url aas category avah method
            function getCategoryFromUrl() {
                const urlParams = new URLSearchParams(window.location.search);
                return urlParams.get('category');
            }
        });
        </script>
    </body>
</html>